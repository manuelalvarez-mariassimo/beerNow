This is index view

<form id="address-search" action="/results" method="POST">
  <input type="text" id="address" placeholder="You can add your address here">
  <input type="submit" id="address-button" value="Start a search">
</form>

<a id="locate-button">Locate me</a>

<script>
  let country;
  let user_location;
  let addressInput = document.querySelector('#address')
  let addressBtn = document.querySelector('#address-button')
  let locateBtn = document.querySelector('#locate-button')

  addressBtn.onclick = getCoords
  locateBtn.onclick = getGeoloc

  function getCoords() {

    // how to pass coords to url

    if (addressInput.value) {
      let addressStr = addressInput.value

      axios.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${addressStr}&key=AIzaSyD_zFC1JIj0EgKS8Fp0GZw3MiXR1wiDxEg`)
        .then(addressPayLoad => {
          let lat = addressPayLoad.data.results[0].geometry.location.lat
          let lng = addressPayLoad.data.results[0].geometry.location.lng

          console.log(lat, lng)
        })
    }
  }


  function getGeoloc() {

    //fix promise
    
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        position => {
          return user_location = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
          };
        })
      locateBtn.setAttribute('href', `/results/${user_location.lat},${user_location.lng}`)
    }
  }


</script>